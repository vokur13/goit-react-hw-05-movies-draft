{"version":3,"file":"static/js/885.e7cc2e20.chunk.js","mappings":"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","sources":["components/Searchbar/Searchbar.styled.jsx","components/Searchbar/Searchbar.jsx","pages/Movies/Movies.styled.jsx","pages/Movies/Movies.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const SearchForm = styled.form`\n  display: flex;\n  align-items: center;\n  margin-top: ${props => `${props.theme.space[3]}px`};\n  margin-left: ${props => `${props.theme.space[1]}px`};\n  width: 100%;\n  border: ${props => `${props.theme.borders.normal}`};\n  max-width: 600px;\n  overflow: hidden;\n`;\n\nexport const Input = styled.input`\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  padding-left: ${props => `${props.theme.space[2]}px`};\n  border: none;\n  outline: none;\n  &::placeholder {\n    font: inherit;\n    font-size: ${props => `${props.theme.fontSizes.s}px`};\n  }\n`;\n\nexport const SearchFormButton = styled.button`\n  display: inline-block;\n  width: 48px;\n  // height: 48px;\n  height: 100%;\n  border: 0;\n  /* background-image: url('https://image.flaticon.com/icons/svg/149/149852.svg'); */\n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  &:hover {\n    opacity: 1;\n  }\n`;\n\nexport const SearchFormButtonLabel = styled.span`\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  clip-path: inset(50%);\n  border: 0;\n`;\n","import PropTypes from 'prop-types';\nimport { useEffect } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { SearchForm, Input, SearchFormButton } from './Searchbar.styled';\nimport * as yup from 'yup';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { ImSearch } from 'react-icons/im';\n\nconst schema = yup.object().shape({\n  query: yup.string(),\n});\n\nexport function Searchbar({ onFormSubmit }) {\n  const {\n    register,\n    handleSubmit,\n    // watch,\n    reset,\n    formState: { errors, isSubmitSuccessful },\n  } = useForm({ resolver: yupResolver(schema) });\n\n  const onSubmit = data => {\n    onFormSubmit(data);\n  };\n\n  // console.log(watch('query'));\n\n  useEffect(() => {\n    if (isSubmitSuccessful) {\n      reset({ query: '' });\n    }\n  }, [isSubmitSuccessful, reset]);\n\n  return (\n    <>\n      <SearchForm onSubmit={handleSubmit(onSubmit)}>\n        <Input\n          placeholder=\"Search your movie\"\n          autoComplete=\"off\"\n          autoFocus\n          defaultValue=\"\"\n          {...register('query')}\n        />\n        <SearchFormButton type=\"submit\">\n          <ImSearch style={{ marginRight: 0 }} />\n        </SearchFormButton>\n        <p>{errors.query?.message}</p>\n      </SearchForm>\n    </>\n  );\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func,\n};\n","import styled from 'styled-components';\nimport { NavLink } from 'react-router-dom';\n\nexport const List = styled.ul`\n  padding-left: ${p => p.theme.space[4]}px;\n  padding-right: ${p => p.theme.space[2]}px;\n  padding-top: ${p => p.theme.space[2]}px;\n  padding-bottom: ${p => p.theme.space[2]}px;\n`;\n\nexport const Item = styled.li`\n  list-style: square;\n  &:not(:last-child) {\n    margin-bottom: ${p => p.theme.space[3]}px;\n  }\n`;\n\nexport const NavItem = styled(NavLink)`\n  // padding: ${p => p.theme.space[3]}px;\n  text-decoration: none;\n  color: ${p => p.theme.colors.text};\n  border-radius: 8px;\n\n  &.active {\n    background-color: ${p => p.theme.colors.primary};\n    color: ${p => p.theme.colors.white};\n  }\n\n  :hover:not(.active) {\n    color: ${p => p.theme.colors.primary};\n  }\n`;\n","import { useEffect, useState } from 'react';\nimport { NavLink, useSearchParams, useLocation } from 'react-router-dom';\nimport { Searchbar } from 'components/Searchbar';\nimport * as API from 'services/api';\nimport { List, Item } from './Movies.styled';\n\nexport const Movies = () => {\n  const location = useLocation();\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const keyWord = searchParams.get('query') ?? '';\n\n  function handleFormSubmit({ query }) {\n    if (!query.trim().toLowerCase()) {\n      return;\n    }\n    setSearchParams(query !== '' ? { query: query } : {});\n  }\n\n  useEffect(() => {\n    if (!keyWord) {\n      return;\n    }\n    async function fetchAssetsByKeyWord(keyWord) {\n      try {\n        const { results } = await API.getMovieKeyWord(keyWord);\n        setMovies(results);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n    fetchAssetsByKeyWord(keyWord);\n  }, [keyWord]);\n\n  return (\n    <>\n      <Searchbar onFormSubmit={handleFormSubmit} />\n      {movies.length > 0 && (\n        <List>\n          {movies.map(({ id, title }) => (\n            <Item key={id}>\n              <NavLink to={`${id}`} state={{ from: location }}>\n                {title}\n              </NavLink>\n            </Item>\n          ))}\n        </List>\n      )}\n    </>\n  );\n};\n"],"names":["SearchForm","styled","props","theme","space","borders","normal","Input","fontSizes","s","SearchFormButton","schema","yup","shape","query","Searchbar","onFormSubmit","useForm","resolver","yupResolver","register","handleSubmit","reset","formState","errors","isSubmitSuccessful","useEffect","onSubmit","data","placeholder","autoComplete","autoFocus","defaultValue","type","style","marginRight","message","List","p","Item","Movies","NavLink","colors","text","primary","white","location","useLocation","useState","movies","setMovies","useSearchParams","searchParams","setSearchParams","keyWord","get","API","results","console","log","fetchAssetsByKeyWord","trim","toLowerCase","length","map","id","title","to","state","from"],"sourceRoot":""}